<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bulldog Garage - Uniform Inspection</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="ambient">
      <div class="orb orb-red"></div>
      <div class="orb orb-black"></div>
      <div class="grid"></div>
    </div>

    <div id="splash" class="screen active cod-splash">
      <div class="cod-stage">
        <div class="cod-bg"></div>
        <div class="cod-particles cod-particles-back" aria-hidden="true"></div>
        <div class="cod-particles cod-particles-back-2" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-a" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-b" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-e" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-f" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-i" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-back cod-smoke-j" aria-hidden="true"></div>
        <img
          src="assets/mechanic-reference.png"
          alt="Mechanic side profile"
          class="cod-mechanic"
          onerror="this.src='assets/mechanic.svg'"
        />
        <div class="cod-smoke cod-smoke-front cod-smoke-c" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-front cod-smoke-d" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-front cod-smoke-g" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-front cod-smoke-h" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-front cod-smoke-k" aria-hidden="true"></div>
        <div class="cod-smoke cod-smoke-front cod-smoke-l" aria-hidden="true"></div>
        <div class="cod-particles cod-particles-front" aria-hidden="true"></div>
        <div class="cod-particles cod-particles-front-2" aria-hidden="true"></div>
        <div class="cod-content">
          <h1 class="cod-title">BULLDOG GARAGE</h1>
          <p class="cod-subtitle">UNIFORM INSPECTION</p>
          <div class="cod-loading-label" id="splash-status">Loading . . .</div>
          <div class="cod-loading-track">
            <div id="loading-progress" class="cod-loading-fill"></div>
          </div>
          <div id="splash-continue" class="cod-continue">TOUCH OR PRESS A KEY TO START</div>
        </div>
        <div class="cod-credit">MADE BY MR. THOMSON</div>
      </div>
    </div>

    <audio id="splash-audio" preload="auto" loop>
      <source src="assets/gothic-intro.mp3" type="audio/mpeg" />
    </audio>

    <div id="auth" class="screen">
      <div class="auth-shell glass">
        <div class="auth-brand">
          <div class="badge">Bulldog Garage</div>
          <h2>Uniform Inspection</h2>
          <p>Student leadership portal</p>
        </div>
        <div class="auth-tabs">
          <button class="tab active" data-tab="login">Student Login</button>
          <button class="tab" data-tab="signup">Create Account</button>
          <button class="tab ghost" id="admin-login-btn">Admin Login</button>
        </div>
        <div class="auth-panels">
          <form id="login-form" class="panel active" data-panel="login">
            <label>
              School Email
              <input type="email" id="login-email" placeholder="name@stu.hemet.usd" required />
            </label>
            <label>
              Password
              <input type="password" id="login-password" required />
            </label>
            <button type="submit" class="primary">Sign In</button>
          </form>
          <form id="signup-form" class="panel" data-panel="signup">
            <label>
              School Email
              <input type="email" id="signup-email" placeholder="name@stu.hemet.usd" required />
            </label>
            <label>
              Create Password
              <input type="password" id="signup-password" minlength="6" required />
            </label>
            <button type="submit" class="primary">Request Access</button>
            <p class="subtle">Accounts require admin approval before activation.</p>
          </form>
        </div>
      </div>
    </div>

    <div id="app" class="screen">
      <header class="app-header glass">
        <div class="title-group">
          <div class="badge">Bulldog Garage</div>
          <div>
            <h2>Uniform Inspection</h2>
            <p id="user-meta"></p>
          </div>
        </div>
        <div class="header-actions">
          <button id="admin-dashboard-btn" class="ghost">Admin Dashboard</button>
          <button id="signout-btn" class="ghost">Sign Out</button>
        </div>
      </header>
      <section class="periods">
        <div class="period-tabs" id="period-tabs"></div>
        <div class="period-content glass">
          <div class="period-header">
            <h3 id="period-title">Period 1</h3>
            <div class="period-header-actions">
              <div id="period-status"></div>
              <div class="inspection-actions">
                <div id="pending-count" class="subtle"></div>
                <button id="clear-inspections-btn" class="ghost">Clear</button>
                <button id="submit-inspections-btn" class="primary">Submit Period Inspection</button>
              </div>
            </div>
          </div>
          <div id="student-list" class="student-list"></div>
        </div>
      </section>
    </div>

    <div id="admin" class="screen">
      <header class="app-header glass">
        <div class="title-group">
          <div class="badge">Admin</div>
          <div>
            <h2>Admin Dashboard</h2>
            <p>Manage access and inspections</p>
          </div>
        </div>
        <div class="header-actions">
          <button id="admin-back-btn" class="ghost">Back to Inspection</button>
        </div>
      </header>
      <section class="admin-body">
        <div class="admin-tabs">
          <button class="tab active" data-admin-tab="accounts">Accounts</button>
          <button class="tab" data-admin-tab="students">Students</button>
          <button class="tab" data-admin-tab="history">History</button>
          <button class="tab" data-admin-tab="export">Export</button>
          <button class="tab" data-admin-tab="settings">Settings</button>
        </div>
        <div class="admin-panels">
          <div class="admin-panel active" data-admin-panel="accounts">
            <div class="panel-grid">
              <div class="glass panel-card">
                <h4>Pending Approvals</h4>
                <div id="pending-list" class="list"></div>
              </div>
              <div class="glass panel-card">
                <h4>Active Accounts</h4>
                <div id="active-list" class="list"></div>
              </div>
            </div>
          </div>
          <div class="admin-panel" data-admin-panel="students">
            <div class="glass panel-card">
              <div class="panel-header">
                <h4>Students by Period</h4>
                <select id="student-period-select"></select>
              </div>
              <form id="student-add-form" class="inline-form">
                <input type="text" id="student-name" placeholder="Student name" required />
                <input type="text" id="student-id" placeholder="Student ID (optional)" />
                <button type="submit" class="primary">Add Student</button>
              </form>
              <div id="student-admin-list" class="list"></div>
            </div>
          </div>
          <div class="admin-panel" data-admin-panel="history">
            <div class="glass panel-card">
              <div class="panel-header">
                <h4>Inspection History</h4>
                <span class="subtle">Recent entries auto-archive after 72 hours.</span>
              </div>
              <div class="filter-grid">
                <label>
                  From
                  <input type="datetime-local" id="history-from" />
                </label>
                <label>
                  To
                  <input type="datetime-local" id="history-to" />
                </label>
              </div>
              <div class="filter-status">
                <label><input type="checkbox" data-history-status value="Passed" checked /> Passed</label>
                <label><input type="checkbox" data-history-status value="Failed" checked /> Failed</label>
                <label><input type="checkbox" data-history-status value="Absent" checked /> Absent</label>
              </div>
              <div class="history-sections">
                <div>
                  <h5>Recent (Last 72 Hours)</h5>
                  <div id="history-recent" class="list"></div>
                </div>
                <div>
                  <h5>Archive</h5>
                  <div id="history-archive" class="list"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="admin-panel" data-admin-panel="export">
            <div class="glass panel-card">
              <h4>Export Inspections</h4>
              <p class="subtle">Default export is failed students from the most recent inspection day.</p>
              <div class="export-mode">
                <label><input type="radio" name="export-mode" value="last-failed" checked /> Default: Failed (Last Inspection)</label>
                <label><input type="radio" name="export-mode" value="filtered" /> Use Filters</label>
              </div>
              <div class="filter-grid">
                <label>
                  From
                  <input type="datetime-local" id="export-from" />
                </label>
                <label>
                  To
                  <input type="datetime-local" id="export-to" />
                </label>
              </div>
              <div class="filter-status">
                <label><input type="checkbox" data-export-status value="Passed" /> Passed</label>
                <label><input type="checkbox" data-export-status value="Failed" checked /> Failed</label>
                <label><input type="checkbox" data-export-status value="Absent" /> Absent</label>
              </div>
              <div class="export-buttons">
                <button data-export="pdf" class="ghost">Export PDF</button>
                <button data-export="xlsx" class="ghost">Export XLSX</button>
                <button data-export="txt" class="ghost">Export TXT</button>
                <button data-export="doc" class="ghost">Export DOC</button>
                <button data-export="csv" class="ghost">Export CSV</button>
              </div>
              <div id="export-summary" class="summary"></div>
            </div>
          </div>
          <div class="admin-panel" data-admin-panel="settings">
            <div class="glass panel-card">
              <h4>Admin Settings</h4>
              <form id="admin-password-form" class="stack">
                <label>
                  New Admin Password
                  <input type="password" id="admin-password" minlength="6" required />
                </label>
                <button type="submit" class="primary">Update Password</button>
              </form>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div id="admin-login-modal" class="modal hidden">
      <div class="modal-card glass">
        <h3>Admin Login</h3>
        <form id="admin-login-form" class="stack">
          <label>
            Admin Password
            <input type="password" id="admin-password-input" required />
          </label>
          <div class="modal-actions">
            <button type="button" id="admin-cancel" class="ghost">Cancel</button>
            <button type="submit" class="primary">Enter</button>
          </div>
        </form>
      </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="app.js"></script>
  </body>
</html>
