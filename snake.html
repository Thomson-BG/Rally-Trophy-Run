<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Bulldog Garage Rally - Trophy Run</title>
    <link rel="stylesheet" href="snake.css" />
  </head>
  <body data-skin="ember">
    <div class="snake-ambient" aria-hidden="true">
      <div class="glow glow-a"></div>
      <div class="glow glow-b"></div>
      <div class="scanlines"></div>
    </div>

    <main class="snake-shell">
      <header class="snake-header">
        <div>
          <div class="badge">Bulldog Garage</div>
          <h1>Rally: Trophy Run</h1>
          <p class="subtitle">Made by: Mr. Thomson</p>
        </div>
        <div class="header-actions">
          <a class="ghost" href="../Uniform Inspection/index.html">Back to Inspection</a>
        </div>
      </header>

      <section class="snake-stage">
        <div class="snake-board">
          <canvas id="snake-canvas" aria-label="Rally Trophy Run game"></canvas>
          <div id="snake-overlay" class="snake-overlay hidden" role="status" aria-live="polite">
            <div class="overlay-card">
              <h2 id="overlay-title">Paused</h2>
              <p id="overlay-subtitle">Press space to resume.</p>
              <div class="overlay-actions">
                <button id="resume-btn" class="ghost">Resume</button>
                <button id="restart-btn" class="primary">Restart</button>
              </div>
            </div>
          </div>
          <div class="snake-leaderboard" aria-live="polite">
            <h3>Top Scores</h3>
            <ol id="leaderboard-list" class="leaderboard-list"></ol>
          </div>
        </div>

        <aside class="snake-panel">
          <div class="stat-grid">
            <div class="stat-card">
              <span>Score</span>
              <strong id="score">0</strong>
            </div>
            <div class="stat-card">
              <span>Best</span>
              <strong id="best">0</strong>
            </div>
          </div>

          <div class="panel-section">
            <h3>Controls</h3>
            <p>Move: Arrow keys or WASD</p>
            <p>Pause: Space</p>
            <p>Restart: R</p>
            <p>Fullscreen: F</p>
          </div>

          <div class="panel-section">
            <h3>Skins</h3>
            <div class="skin-options" role="listbox" aria-label="Snake skins">
              <button class="skin-chip active" data-skin="ember" role="option" aria-selected="true">Ember</button>
              <button class="skin-chip" data-skin="neon" role="option" aria-selected="false">Neon</button>
              <button class="skin-chip" data-skin="frost" role="option" aria-selected="false">Frost</button>
            </div>
          </div>

          <div class="panel-section panel-actions">
            <button id="pause-btn" class="ghost">Pause</button>
            <button id="restart-btn-side" class="primary">Restart</button>
          </div>
        </aside>

        <div class="snake-mobile-controls" aria-hidden="false">
          <div class="dpad">
            <button class="dpad-btn" data-dir="up" aria-label="Move up">U</button>
            <div class="dpad-row">
              <button class="dpad-btn" data-dir="left" aria-label="Move left">L</button>
              <button class="dpad-btn" data-dir="down" aria-label="Move down">D</button>
              <button class="dpad-btn" data-dir="right" aria-label="Move right">R</button>
            </div>
          </div>
          <div class="mobile-actions">
            <button class="ghost" data-action="pause">Pause</button>
            <button class="primary" data-action="restart">Restart</button>
          </div>
        </div>
      </section>
    </main>
    <footer class="snake-credits">Mr. Thomson</footer>
    <div id="score-entry" class="score-entry hidden" role="dialog" aria-modal="true" aria-labelledby="score-entry-title">
      <form id="score-form" class="score-form">
        <h2 id="score-entry-title">New Top Score</h2>
        <p id="score-entry-score" class="score-entry-score"></p>
        <label>
          Initials
          <input id="score-initials" name="initials" maxlength="4" autocomplete="off" required />
        </label>
        <label>
          Period
          <select id="score-period" name="period" required>
            <option value="">Select period</option>
            <option value="1">Period 1</option>
            <option value="2">Period 2</option>
            <option value="3">Period 3</option>
            <option value="4">Period 4</option>
            <option value="5">Period 5</option>
            <option value="6">Period 6</option>
          </select>
        </label>
        <div class="score-form-actions">
          <button type="button" id="score-cancel" class="ghost">Skip</button>
          <button type="submit" class="primary">Save</button>
        </div>
      </form>
    </div>

    <script src="snake.js"></script>
  </body>
</html>
